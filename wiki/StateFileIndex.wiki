#summary A list and description of all options provided by RAIL_State files.
#labels Phase-Deploy

<wiki:toc />

= Introduction =

The Rampage AI Lite state-file contains all configuration relating to behavior of the AI. In addition, it also contains information regarding the current-state of the AI (for example, the ID number of the homunculus/mercenary).

The state-file options are verified as they are used, so it is impossible to cause a Lua error when changing options. Further, corrected values are saved back into the state-file.

Because of the way the state-file is saved, it is impractical to maintain user-comments or values outside of the rail_state table. The order of options may also change. Please avoid storing important information inside of the RAIL state file.

= Finding Your State-File =

By default, your state-file is located in the base Ragnarok Online directory. (See [http://code.google.com/p/ro-rail/wiki/FirstTimeInstall#Before_You_Begin:_Locate_your_Ragnarok_Online_directory Before You Begin: Locate your Ragnarok Online directory] for more information on finding your Ragnarok Online directory.) The [http://code.google.com/p/ro-rail/wiki/ConfigLuaFile#RAIL._StateFile RAIL.StateFile] option in the Config.lua file will specify the filename.

With default filename, the image below shows the state-file for a Rampage AI Lite-controlled mercenary. Notice that the default of `"RAIL_State.{2}.lua"` was automatically expanded to `"RAIL_State.merc.lua"` for the mercenary AI.

http://ro-rail.googlecode.com/svn/wiki/img/find-state-file.png

Once you've located the state-file, it is safe to open it in Microsoft Notepad or any other text-editor.

_Note: Vista users will have problems editing the state-file if it is inside the _Program Files_ directory. Please make sure your copy of Ragnarok Online is installed outside of this folder._

= Options Index =

== An Important Note ==

All options shown on this page will appear in the state-file similar to the following:
{{{
rail_state["Aggressive"] = false
}}}
In this example, the option is [StateFileIndex#Aggressive Aggressive], and the option is set to `false`.

The names of the options in the state-file (eg, "[StateFileIndex#Aggressive Aggressive]") are all case-sensitive. In other words, the option "aggRESsive" will not have any relation to the option "[StateFileIndex#Aggressive Aggressive]". When adding new options, be careful to note that the capitalization matches what is shown on this page.

== Base Options Table ==

=== !AcquireWhileLocked ===

*Type:* Boolean

*Default:* `false`

When set to `true`, !AcquireWhileLocked will cause the AI to actively seek targets that are outside of its attack range, even while attacking. Because this causes melee-range mercenaries/homunculi to run away from their attack target, it is recommended to enable only for long-range mercenaries.

*See also:* [StateFileIndex#AttackWhileChasing AttackWhileChasing]

=== !ActorOptions ===

_Please refer to [StateFileIndex#ActorOptions_Sub-table ActorOptions Sub-table]._

=== Aggressive ===

*Type:* Boolean

*Default:* `false`

When set to `true`, Aggressive will cause the AI to actively search for new targets.

_Note: This option can be changed from inside the Ragnarok Online client by pressing `<ALT+T>` for a homunculus, or `<CTRL+T>` for a mercenary. Changes made by this key-press will be saved._

=== !AssistOwner ===

*Type:* Boolean

*Default:* `false`

When set to `true`, !AssistOwner will cause the AI to select targets that the owner is hostile against. This includes attacks, skill charge-up, and skill casts against enemy targets.

This option takes precedence over all others, including [StateFileIndex#Aggressive Aggressive], [StateFileIndex#AssistOther AssistOther], and [StateFileIndex#DefendOptions_Sub-table DefendOptions Sub-table] options.

*See also:* [StateFileIndex#AssistOther AssistOther]

=== !AssistOther ===

*Type:* Boolean

*Default:* `false`

!AssistOther operates like !AssistOwner, but causes the AI to assist its counterpart. For example, if both homunculus and mercenary are active, !AssistOther in the mercenary state-file would cause a passive mercenary to target enemies that the homunculus is attacking.

This option takes precedence over [StateFileIndex#Aggressive Aggressive] and [StateFileIndex#DefendOptions_Sub-table DefendOptions Sub-table] options.

*See also:* [StateFileIndex#AssistOwner AssistOwner]

=== !AttackWhileChasing ===

*Type:* Boolean

*Default:* `false`

_Not written yet. Check back soon!_

=== !DebugFile ===

*Type:* String

*Default:* `"RAIL_Log.{2}.lua"`

The !DebugFile option specifies where RAIL's logs should be output to. It allows pattern expansion in a similar manner as the [ConfigLuaFile#RAIL._StateFile Config.lua StateFile option]. Multiple instances of RAIL can simultaneously use the same log file without problem.

_Note: If the [ConfigLuaFile#RAIL.UseTraceAI Config.lua UseTraceAI option] is set to `true`, then this option will have no effect._

*See also:* [StateFileIndex#DebugLevel DebugLevel]; [StateFileIndex#ProfileMark ProfileMark]

=== !DebugLevel ===

*Type:* Number

*Default:* `50`

*Maximum Value:* `99`

This option sets the verbosity of RAIL logging, with higher numbers being more verbose. Unless troubleshooting or learning about RAIL, this option should be ignored.

_Note: Debug levels for various log messages can be found at the top of [http://ro-rail.googlecode.com/svn/trunk/Debug.lua]._

*See also:* [StateFileIndex#DebugFile DebugFile]; [StateFileIndex#ProfileMark ProfileMark]

=== !DefendOptions ===

_Please refer to [StateFileIndex#DefendOptions_Sub-table DefendOptions Sub-table]._

=== !FollowDistance ===

*Type:* Number

*Default:* `7`

*Minimum Value:* `3`

*Maximum Value:* `14`

_Not written yet. Check back soon!_

*See also:* [StateFileIndex#MaxDistance MaxDistance]

=== !InterceptAlgorithm ===

*Type:* String

*Default:* `"normal"`

!InterceptAlgorithm specifies the method that RAIL should use to chase a moving target. There are four accepted values for this option:
  * `"none"` makes no future estimation, and moves toward the current location.
  * `"sloppy"` estimates where the target will be after 500ms, and moves toward that location.
  * `"normal"` makes a rough estimation where the target will be by the time the AI reaches it.
  * ~~`"advanced"`~~ _This option is not implemented yet._

_Note: This algorithm is also used when chasing after the owner to stay on screen._

=== !MaxDistance ===

*Type:* Number

*Default:* `13`

*Minimum Value:* `3`

*Maximum Value:* `14`

_Not written yet. Check back soon!_

*See also:* [StateFileIndex#FollowDistance FollowDistance]

=== MobIDFile ===

*Type:* String

*Default:* `"./AI/USER_AI/Mob_ID.lua"`

_Not written yet. Check back soon!_

*See also:* [StateFileIndex#MobIDMode MobIDMode]; [StateFileIndex#UseMobID UseMobID]

=== MobIDMode ===

*Type:* String

*Default:* `"overwrite"`

_Not written yet. Check back soon!_

*See also:* [StateFileIndex#MobIDFile MobIDFile]; [StateFileIndex#UseMobID UseMobID]

=== !ProfileMark ===

*Type:* Number

*Default:* `20000`

*Minimum Value:* `2000`

The !ProfileMark option specifies how often Rampage AI Lite should log profiling information. This information includes average cycle time, memory usage, etc. If you are unsure what this means, it is safe to ignore this option.

*See also:* [StateFileIndex#DebugFile DebugFile]; [StateFileIndex#DebugLevel DebugLevel]

=== !SkillOptions ===

_Please refer to [StateFileIndex#SkillOptions_Sub-table SkillOptions Sub-table]._

=== update ===

*Type:* Boolean

*Default:* `false`

The update option is a hidden option that causes a running RAIL instance to reload its state-file configuration. To change state-file options without resetting the AI completely, set this option to `true`.

_Note: Because this is a hidden option, it will only appear in the state-file after being manually added. If you wish to enable it, please manually type it into the bottom of the state-file. Afterward, you may simply change `false` to `true`._

*Warning:* Please notice that the first letter is not capitalized. This option must be entered completely lowercase to take effect.

=== UseMobID ===

*Type:* Boolean

*Default:* `false`

When UseMobID is set to `true`, Rampage AI Lite will begin to use the [StateFileIndex#MobIDFile MobID File] to communicate monster types. 

For homunculi, this means that Rampage AI Lite will write a mapping of IDs into the [StateFileIndex#MobIDFile MobID File]. This file will only be written when a new actor ID is encountered, or when an actor changes type ID.

For mercenaries, this means that Rampage AI Lite will load a table from the [StateFileIndex#MobIDFile MobID File] and use it to distinguish actor type IDs. When used properly, this enables mercenaries to distinguish different types of monsters, players, etc. This file is only loaded when a new actor ID is encountered.

*Warning:* This ID-mapping table is specific for each Ragnarok Online map (eg, moc_fild01). An outdated MobID file, or one generated for a different Ragnarok map will cause unexpected behavior!

_Note: When both homunculus and mercenary are used together (with UseMobID enabled for both), the MobID file will always be proper and usable._

*See also:* [StateFileIndex#MobIDFile MobIDFile]; [StateFileIndex#MobIDMode MobIDMode]

== !ActorOptions Sub-table ==

_Not written yet. Check back soon!_

== !DefendOptions Sub-table ==

_Not written yet. Check back soon!_

== !SkillOptions Sub-table ==

_Not written yet. Check back soon!_